<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login | ROBUSTAR</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.iconify.design/3/3.1.0/iconify.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500;600&amp;display=swap" rel="stylesheet">
    <style>
      body {
          font-family: 'Inter', sans-serif;
          background-color: #050505;
          color: #ffffff;
          overflow-x: hidden;
      }

      /* Background Grid */
      .bg-grid {
          background-size: 40px 40px;
          background-image: linear-gradient(to right, rgba(255, 255, 255, 0.03) 1px, transparent 1px),
                            linear-gradient(to bottom, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
          mask-image: radial-gradient(circle at center, black 40%, transparent 100%);
          -webkit-mask-image: radial-gradient(circle at center, black 40%, transparent 100%);
      }

      /* Glow Effects */
      .glow-spot {
          background: radial-gradient(circle, rgba(6,182,212,0.15) 0%, rgba(0,0,0,0) 70%);
      }

      /* Input Autofill Fix for Dark Mode */
      input:-webkit-autofill,
      input:-webkit-autofill:hover,
      input:-webkit-autofill:focus,
      input:-webkit-autofill:active{
          -webkit-box-shadow: 0 0 0 30px #171717 inset !important;
          -webkit-text-fill-color: white !important;
          transition: background-color 5000s ease-in-out 0s;
      }

      /* Tab Animation */
      .tab-content {
          display: none;
          animation: fadeIn 0.4s ease-out forwards;
      }
      .tab-content.active {
          display: block;
      }

      @keyframes fadeIn {
          from { opacity: 0; transform: translateY(4px); }
          to { opacity: 1; transform: translateY(0); }
      }

      .btn-glow:hover {
          box-shadow: 0 0 20px rgba(56, 189, 248, 0.3);
      }
    </style>
    <script src="https://accounts.google.com/gsi/client" async="" defer=""></script>
    <script>
      // ============================================
      // CONFIGURATION - Replace with your credentials
      // ============================================
      const CONFIG = {
          GOOGLE_CLIENT_ID: 'YOUR_GOOGLE_CLIENT_ID.apps.googleusercontent.com', // Replace with your Google Client ID
          GOOGLE_API_KEY: 'YOUR_GOOGLE_API_KEY', // Replace with your Google API Key
          ADMIN_CREDENTIALS: {
              id: 'ADM-0001',
              password: 'SecureAdmin@2024' // Change this!
          },
          DRIVE_FOLDER_NAME: 'ROBUSTAR_Data',
          TOTP_SECRET_KEY: null // Will be generated on first admin setup
      };

      // ============================================
      // STATE MANAGEMENT
      // ============================================
      let state = {
          isGoogleLoaded: false,
          currentUser: null,
          accessToken: null,
          adminTOTPSecret: localStorage.getItem('admin_totp_secret') || null,
          isAdminSetup: localStorage.getItem('admin_setup_complete') === 'true'
      };

      // ============================================
      // TAB SWITCHING
      // ============================================
      function switchTab(type) {
          const btnUser = document.getElementById('btn-user');
          const btnAdmin = document.getElementById('btn-admin');
          const slider = document.getElementById('slider');
          const tabUser = document.getElementById('tab-user');
          const tabAdmin = document.getElementById('tab-admin');

          if (type === 'user') {
              slider.style.transform = 'translateX(0)';
              btnUser.classList.remove('text-neutral-500');
              btnAdmin.classList.add('text-neutral-500');
              btnAdmin.classList.remove('text-white');
              tabUser.classList.add('active');
              tabAdmin.classList.remove('active');
          } else {
              slider.style.transform = 'translateX(100%)';
              btnAdmin.classList.remove('text-neutral-500');
              btnAdmin.classList.add('text-white');
              btnUser.classList.add('text-neutral-500');
              tabAdmin.classList.add('active');
              tabUser.classList.remove('active');
              checkAdminSetupStatus();
          }
      }

      // ============================================
      // GOOGLE IDENTITY SERVICES (OAuth 2.0)
      // ============================================
      function initializeGoogleAuth() {
          if (typeof google === 'undefined') {
              setTimeout(initializeGoogleAuth, 100);
              return;
          }

          google.accounts.id.initialize({
              client_id: CONFIG.GOOGLE_CLIENT_ID,
              callback: handleGoogleSignIn,
              auto_select: false
          });

          state.isGoogleLoaded = true;
          console.log('Google Auth initialized');
      }

      function handleGoogleSignIn(response) {
          const credential = response.credential;
          const payload = parseJwt(credential);

          state.currentUser = {
              email: payload.email,
              name: payload.name,
              picture: payload.picture,
              id: payload.sub
          };

          showNotification('Success! Logged in as ' + payload.email, 'success');
          initializeGoogleDriveAPI();
      }

      function parseJwt(token) {
          const base64Url = token.split('.')[1];
          const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
          const jsonPayload = decodeURIComponent(atob(base64).split('').map(c =>
              '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2)
          ).join(''));
          return JSON.parse(jsonPayload);
      }

      function triggerGoogleLogin() {
          if (!state.isGoogleLoaded) {
              showNotification('Google Auth is loading, please wait...', 'warning');
              return;
          }

          // Use OAuth 2.0 for Drive access
          const tokenClient = google.accounts.oauth2.initTokenClient({
              client_id: CONFIG.GOOGLE_CLIENT_ID,
              scope: 'https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile',
              callback: (tokenResponse) => {
                  if (tokenResponse.access_token) {
                      state.accessToken = tokenResponse.access_token;
                      fetchUserInfo();
                  }
              }
          });
          tokenClient.requestAccessToken();
      }

      async function fetchUserInfo() {
          try {
              const response = await fetch('https://www.googleapis.com/oauth2/v2/userinfo', {
                  headers: { 'Authorization': 'Bearer ' + state.accessToken }
              });
              const userInfo = await response.json();
              state.currentUser = userInfo;
              showNotification('Welcome, ' + userInfo.name + '!', 'success');
              await initializeGoogleDriveAPI();
          } catch (error) {
              showNotification('Failed to fetch user info', 'error');
          }
      }

      // ============================================
      // GOOGLE DRIVE API
      // ============================================
      async function initializeGoogleDriveAPI() {
          if (!state.accessToken) {
              showNotification('Please login first', 'error');
              return;
          }

          try {
              const folderId = await getOrCreateFolder(CONFIG.DRIVE_FOLDER_NAME);
              console.log('Drive folder ready:', folderId);

              // Store user session
              await storeUserData({
                  lastLogin: new Date().toISOString(),
                  email: state.currentUser.email,
                  name: state.currentUser.name
              });

              showNotification('Connected to Google Drive!', 'success');
          } catch (error) {
              console.error('Drive API error:', error);
              showNotification('Failed to connect to Drive', 'error');
          }
      }

      async function getOrCreateFolder(folderName) {
          // Search for existing folder
          const searchResponse = await fetch(
              `https://www.googleapis.com/drive/v3/files?q=name='${folderName}' and mimeType='application/vnd.google-apps.folder' and trashed=false`,
              { headers: { 'Authorization': 'Bearer ' + state.accessToken } }
          );
          const searchData = await searchResponse.json();

          if (searchData.files && searchData.files.length > 0) {
              return searchData.files[0].id;
          }

          // Create new folder
          const createResponse = await fetch('https://www.googleapis.com/drive/v3/files', {
              method: 'POST',
              headers: {
                  'Authorization': 'Bearer ' + state.accessToken,
                  'Content-Type': 'application/json'
              },
              body: JSON.stringify({
                  name: folderName,
                  mimeType: 'application/vnd.google-apps.folder'
              })
          });
          const createData = await createResponse.json();
          return createData.id;
      }

      async function storeUserData(data) {
          const folderId = await getOrCreateFolder(CONFIG.DRIVE_FOLDER_NAME);
          const fileName = `user_${state.currentUser.id}_data.json`;

          // Check if file exists
          const searchResponse = await fetch(
              `https://www.googleapis.com/drive/v3/files?q=name='${fileName}' and '${folderId}' in parents and trashed=false`,
              { headers: { 'Authorization': 'Bearer ' + state.accessToken } }
          );
          const searchData = await searchResponse.json();

          const metadata = {
              name: fileName,
              mimeType: 'application/json',
              parents: searchData.files?.length ? undefined : [folderId]
          };

          const form = new FormData();
          form.append('metadata', new Blob([JSON.stringify(metadata)], { type: 'application/json' }));
          form.append('file', new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' }));

          const url = searchData.files?.length
              ? `https://www.googleapis.com/upload/drive/v3/files/${searchData.files[0].id}?uploadType=multipart`
              : 'https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart';

          await fetch(url, {
              method: searchData.files?.length ? 'PATCH' : 'POST',
              headers: { 'Authorization': 'Bearer ' + state.accessToken },
              body: form
          });
      }

      // ============================================
      // TOTP (Time-based One-Time Password) - 2FA
      // ============================================
      function generateTOTPSecret() {
          const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567';
          let secret = '';
          for (let i = 0; i < 16; i++) {
              secret += chars.charAt(Math.floor(Math.random() * chars.length));
          }
          return secret;
      }

      function base32ToBytes(base32) {
          const alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567';
          let bits = '';
          for (let char of base32.toUpperCase()) {
              const val = alphabet.indexOf(char);
              if (val === -1) continue;
              bits += val.toString(2).padStart(5, '0');
          }
          const bytes = [];
          for (let i = 0; i + 8 <= bits.length; i += 8) {
              bytes.push(parseInt(bits.substr(i, 8), 2));
          }
          return new Uint8Array(bytes);
      }

      async function generateTOTP(secret, timeStep = 30) {
          const epoch = Math.floor(Date.now() / 1000);
          const counter = Math.floor(epoch / timeStep);

          const counterBytes = new Uint8Array(8);
          let temp = counter;
          for (let i = 7; i >= 0; i--) {
              counterBytes[i] = temp & 0xff;
              temp = Math.floor(temp / 256);
          }

          const keyBytes = base32ToBytes(secret);
          const key = await crypto.subtle.importKey(
              'raw', keyBytes, { name: 'HMAC', hash: 'SHA-1' }, false, ['sign']
          );

          const signature = await crypto.subtle.sign('HMAC', key, counterBytes);
          const hash = new Uint8Array(signature);

          const offset = hash[hash.length - 1] & 0x0f;
          const binary = ((hash[offset] & 0x7f) << 24) |
                        ((hash[offset + 1] & 0xff) << 16) |
                        ((hash[offset + 2] & 0xff) << 8) |
                        (hash[offset + 3] & 0xff);

          const otp = binary % 1000000;
          return otp.toString().padStart(6, '0');
      }

      async function verifyTOTP(secret, inputCode) {
          // Check current and adjacent time windows for clock drift
          for (let i = -1; i <= 1; i++) {
              const epoch = Math.floor(Date.now() / 1000) + (i * 30);
              const counter = Math.floor(epoch / 30);

              const counterBytes = new Uint8Array(8);
              let temp = counter;
              for (let j = 7; j >= 0; j--) {
                  counterBytes[j] = temp & 0xff;
                  temp = Math.floor(temp / 256);
              }

              const keyBytes = base32ToBytes(secret);
              const key = await crypto.subtle.importKey(
                  'raw', keyBytes, { name: 'HMAC', hash: 'SHA-1' }, false, ['sign']
              );

              const signature = await crypto.subtle.sign('HMAC', key, counterBytes);
              const hash = new Uint8Array(signature);

              const offset = hash[hash.length - 1] & 0x0f;
              const binary = ((hash[offset] & 0x7f) << 24) |
                            ((hash[offset + 1] & 0xff) << 16) |
                            ((hash[offset + 2] & 0xff) << 8) |
                            (hash[offset + 3] & 0xff);

              const otp = (binary % 1000000).toString().padStart(6, '0');
              if (otp === inputCode) return true;
          }
          return false;
      }

      // ============================================
      // ADMIN SETUP & AUTHENTICATION
      // ============================================
      function checkAdminSetupStatus() {
          const setupBanner = document.getElementById('admin-setup-banner');
          const tfaSection = document.getElementById('tfa-section');

          if (!state.isAdminSetup) {
              if (setupBanner) setupBanner.style.display = 'block';
          } else {
              if (setupBanner) setupBanner.style.display = 'none';
          }
      }

      async function setupAdmin2FA() {
          const secret = generateTOTPSecret();
          state.adminTOTPSecret = secret;
          localStorage.setItem('admin_totp_secret', secret);

          const issuer = 'ROBUSTAR';
          const account = CONFIG.ADMIN_CREDENTIALS.id;
          const otpAuthUrl = `otpauth://totp/${issuer}:${account}?secret=${secret}&issuer=${issuer}&algorithm=SHA1&digits=6&period=30`;

          // Generate QR code URL using Google Charts API
          const qrUrl = `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(otpAuthUrl)}`;

          // Show setup modal
          showSetupModal(secret, qrUrl);
      }

      function showSetupModal(secret, qrUrl) {
          const modal = document.createElement('div');
          modal.id = 'setup-modal';
          modal.className = 'fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4';
          modal.innerHTML = `
              <div class="bg-[#0a0a0a] border border-white/10 rounded-2xl p-8 max-w-md w-full">
                  <div class="text-center mb-6">
                      <span class="iconify text-cyan-500 mx-auto mb-4" data-icon="lucide:shield-check" data-width="48"></span>
                      <h2 class="text-xl font-semibold tracking-tight text-white mb-2">Setup 2FA Authentication</h2>
                      <p class="text-sm text-neutral-400">Scan this QR code with Google Authenticator or any TOTP app</p>
                  </div>
                  <div class="bg-white p-4 rounded-lg mx-auto w-fit mb-6">
                      <img src="https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/917d6f93-fb36-439a-8c48-884b67b35381_1600w.jpg" alt="QR Code" class="w-48 h-48">
                  </div>
                  <div class="bg-neutral-900 border border-white/10 rounded-lg p-4 mb-6">
                      <p class="text-xs text-neutral-500 mb-2">Manual entry secret key:</p>
                      <code class="text-cyan-400 font-mono text-sm break-all select-all">${secret}</code>
                  </div>
                  <div class="space-y-3">
                      <label class="text-xs font-medium text-neutral-400">Enter 6-digit code to verify setup:</label>
                      <input type="text" id="verify-setup-code" maxlength="6" class="w-full bg-neutral-900 border border-white/10 rounded-lg px-4 py-2.5 text-center text-white font-mono text-lg tracking-widest focus:outline-none focus:border-cyan-500/50" placeholder="000000">
                      <button onclick="verifySetup()" class="w-full bg-cyan-600 hover:bg-cyan-500 text-white font-medium h-10 rounded-lg text-sm transition-all">Verify & Complete Setup</button>
                  </div>
              </div>
          `;
          document.body.appendChild(modal);
      }

      async function verifySetup() {
          const code = document.getElementById('verify-setup-code').value;
          if (code.length !== 6) {
              showNotification('Please enter a 6-digit code', 'error');
              return;
          }

          const isValid = await verifyTOTP(state.adminTOTPSecret, code);
          if (isValid) {
              state.isAdminSetup = true;
              localStorage.setItem('admin_setup_complete', 'true');
              document.getElementById('setup-modal').remove();
              showNotification('2FA Setup Complete! You can now login.', 'success');
              checkAdminSetupStatus();
          } else {
              showNotification('Invalid code. Please try again.', 'error');
          }
      }

      async function handleAdminLogin(event) {
          event.preventDefault();

          const adminId = document.getElementById('admin-id').value;
          const secureKey = document.getElementById('secure-key').value;
          const tfaInputs = document.querySelectorAll('.tfa-input');
          let tfaCode = '';
          tfaInputs.forEach(input => tfaCode += input.value);

          // Validate credentials
          if (adminId !== CONFIG.ADMIN_CREDENTIALS.id || secureKey !== CONFIG.ADMIN_CREDENTIALS.password) {
              showNotification('Invalid Admin ID or Secure Key', 'error');
              return;
          }

          // Check if 2FA is setup
          if (!state.isAdminSetup || !state.adminTOTPSecret) {
              showNotification('Please complete 2FA setup first', 'error');
              return;
          }

          // Verify 2FA
          if (tfaCode.length !== 6) {
              showNotification('Please enter the 6-digit 2FA code', 'error');
              return;
          }

          const isValid = await verifyTOTP(state.adminTOTPSecret, tfaCode);
          if (isValid) {
              showNotification('Admin authentication successful!', 'success');
              // Store admin session
              sessionStorage.setItem('admin_authenticated', 'true');
              sessionStorage.setItem('admin_login_time', new Date().toISOString());
              // Redirect or show admin panel
              setTimeout(() => {
                  alert('Welcome to Admin Panel! (Redirect would happen here)');
              }, 1000);
          } else {
              showNotification('Invalid 2FA code', 'error');
          }
      }

      // ============================================
      // USER EMAIL LOGIN
      // ============================================
      async function handleUserEmailLogin(event) {
          event.preventDefault();
          const email = document.getElementById('user-email').value;
          const password = document.getElementById('user-password').value;

          if (!email || !password) {
              showNotification('Please fill in all fields', 'error');
              return;
          }

          // For demo - in production, validate against your backend
          showNotification('Email login requires backend integration. Use Google login for full functionality.', 'warning');
      }

      // ============================================
      // UI UTILITIES
      // ============================================
      function showNotification(message, type = 'info') {
          const existing = document.querySelector('.notification');
          if (existing) existing.remove();

          const colors = {
              success: 'bg-green-500/10 border-green-500/30 text-green-400',
              error: 'bg-red-500/10 border-red-500/30 text-red-400',
              warning: 'bg-yellow-500/10 border-yellow-500/30 text-yellow-400',
              info: 'bg-cyan-500/10 border-cyan-500/30 text-cyan-400'
          };

          const icons = {
              success: 'lucide:check-circle',
              error: 'lucide:x-circle',
              warning: 'lucide:alert-triangle',
              info: 'lucide:info'
          };

          const notification = document.createElement('div');
          notification.className = `notification fixed top-4 right-4 z-50 ${colors[type]} border rounded-lg p-4 flex items-center gap-3 max-w-sm animate-pulse`;
          notification.innerHTML = `
              <span class="iconify" data-icon="${icons[type]}" data-width="20"></span>
              <span class="text-sm">${message}</span>
          `;
          document.body.appendChild(notification);

          setTimeout(() => notification.remove(), 5000);
      }

      function setupTFAInputs() {
          const inputs = document.querySelectorAll('.tfa-input');
          inputs.forEach((input, index) => {
              input.addEventListener('input', (e) => {
                  if (e.target.value.length === 1 && index < inputs.length - 1) {
                      inputs[index + 1].focus();
                  }
              });
              input.addEventListener('keydown', (e) => {
                  if (e.key === 'Backspace' && !e.target.value && index > 0) {
                      inputs[index - 1].focus();
                  }
              });
              input.addEventListener('paste', (e) => {
                  e.preventDefault();
                  const paste = (e.clipboardData || window.clipboardData).getData('text');
                  const digits = paste.replace(/\D/g, '').slice(0, 6);
                  digits.split('').forEach((digit, i) => {
                      if (inputs[i]) inputs[i].value = digit;
                  });
                  if (inputs[digits.length - 1]) inputs[digits.length - 1].focus();
              });
          });
      }

      // ============================================
      // INITIALIZATION
      // ============================================
      document.addEventListener('DOMContentLoaded', () => {
          initializeGoogleAuth();
          setupTFAInputs();
          checkAdminSetupStatus();
      });
    </script>
  </head>
  <body class="min-h-screen flex flex-col antialiased selection:bg-cyan-500 selection:text-black relative">
    <!-- Background Elements -->
    <div class="fixed inset-0 bg-grid z-0 pointer-events-none"></div>
    <div class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] glow-spot pointer-events-none z-0"></div>

    <!-- Header / Logo -->
    <header class="absolute top-0 w-full p-6 md:p-8 z-20 flex justify-between items-center">
      <a href="#" class="text-xl font-semibold tracking-tighter text-white flex items-center gap-2 group">
        <span class="w-2 h-2 rounded-full bg-cyan-500 shadow-[0_0_10px_rgba(6,182,212,0.8)]"></span>
        <span>ROBUSTAR</span>
      </a>
      <a href="#" class="text-xs font-medium text-neutral-500 hover:text-white transition-colors flex items-center gap-1">
        <span class="iconify" data-icon="lucide:arrow-left" data-width="14"></span>
        Back to Home
      </a>
    </header>

    <!-- Main Content -->
    <main class="flex-grow flex items-center justify-center p-4 z-10 relative">
      <div class="w-full max-w-[420px] bg-[#0a0a0a] border border-white/10 rounded-2xl shadow-2xl relative overflow-hidden backdrop-blur-xl">
        <!-- Top Gradient Line -->
        <div class="absolute top-0 inset-x-0 h-px bg-gradient-to-r from-transparent via-cyan-500/50 to-transparent"></div>

        <div class="p-8">
          <!-- Title -->
          <div class="text-center mb-8">
            <h1 class="text-2xl font-semibold tracking-tight text-white mb-2">
              Welcome Back
            </h1>
            <p class="text-sm text-neutral-400 font-light">
              Enter your credentials to access the platform.
            </p>
          </div>

          <!-- Toggle -->
          <div class="flex p-1 bg-neutral-900 rounded-lg border border-white/5 mb-8 relative">
            <div id="slider" class="absolute h-[calc(100%-8px)] w-[calc(50%-4px)] bg-neutral-800 border border-white/10 rounded shadow-sm top-1 left-1 transition-all duration-300 ease-out"></div>

            <button onclick="switchTab('user')" class="flex-1 relative z-10 py-2 text-xs font-medium text-center transition-colors duration-300" id="btn-user">
              User Login
            </button>
            <button onclick="switchTab('admin')" class="flex-1 relative z-10 py-2 text-xs font-medium text-neutral-500 text-center hover:text-white transition-colors duration-300" id="btn-admin">
              Admin Portal
            </button>
          </div>

          <!-- USER LOGIN FORM -->
          <div id="tab-user" class="tab-content active">
            <!-- Google Login -->
            <button class="w-full bg-white hover:bg-neutral-200 text-black font-medium h-10 rounded-lg flex items-center justify-center gap-2 transition-all duration-200 mb-6 group" onclick="triggerGoogleLogin()">
              <!-- Using Lucide Chrome as proxy for Google or Browser login per restriction, formatted to look brand-like -->
              <span class="iconify group-hover:scale-110 transition-transform" data-icon="lucide:chrome" data-width="18" data-stroke-width="2"></span>
              <span class="text-sm">Continue with Google</span>
            </button>

            <div class="relative mb-6">
              <div class="absolute inset-0 flex items-center">
                <div class="w-full border-t border-white/10"></div>
              </div>
              <div class="relative flex justify-center text-xs uppercase">
                <span class="bg-[#0a0a0a] px-2 text-neutral-600 font-medium tracking-widest">
                  Or email
                </span>
              </div>
            </div>

            <form class="space-y-4" onsubmit="handleUserEmailLogin(event)">
              <div class="space-y-1.5">
                <label class="text-xs font-medium text-neutral-400 ml-1">
                  Email address
                </label>
                <div class="relative group">
                  <span class="absolute left-3 top-1/2 -translate-y-1/2 text-neutral-600 group-focus-within:text-cyan-500 transition-colors">
                    <span class="iconify" data-icon="lucide:mail" data-width="16"></span>
                  </span>
                  <input type="email" class="w-full bg-neutral-900 border border-white/10 rounded-lg pl-10 pr-4 py-2.5 text-sm text-white placeholder:text-neutral-700 focus:outline-none focus:border-cyan-500/50 focus:ring-1 focus:ring-cyan-500/20 transition-all" placeholder="name@example.com" id="user-email">
                </div>
              </div>
              <div class="space-y-1.5">
                <div class="flex justify-between items-center ml-1">
                  <label class="text-xs font-medium text-neutral-400">
                    Password
                  </label>
                  <a href="#" class="text-[10px] text-cyan-500 hover:text-cyan-400 transition-colors">
                    Forgot?
                  </a>
                </div>
                <div class="relative group">
                  <span class="absolute left-3 top-1/2 -translate-y-1/2 text-neutral-600 group-focus-within:text-cyan-500 transition-colors">
                    <span class="iconify" data-icon="lucide:lock" data-width="16"></span>
                  </span>
                  <input type="password" class="w-full bg-neutral-900 border border-white/10 rounded-lg pl-10 pr-4 py-2.5 text-sm text-white placeholder:text-neutral-700 focus:outline-none focus:border-cyan-500/50 focus:ring-1 focus:ring-cyan-500/20 transition-all" placeholder="••••••••" id="user-password">
                </div>
              </div>
              <button class="w-full bg-cyan-600 hover:bg-cyan-500 text-white font-medium h-10 rounded-lg text-sm transition-all shadow-[0_0_15px_rgba(8,145,178,0.4)] hover:shadow-[0_0_20px_rgba(6,182,212,0.6)] mt-2">
                Sign In
              </button>
            </form>

            <p class="text-center text-xs text-neutral-500 mt-6">
              Don't have an account?
              <a href="#" class="text-white hover:underline decoration-white/30">
                Sign up
              </a>
            </p>
          </div>

          <!-- ADMIN LOGIN FORM -->
          <div id="tab-admin" class="tab-content">
            <div id="admin-setup-banner" class="flex items-center gap-3 p-3 bg-cyan-500/5 border border-cyan-500/20 rounded-lg mb-4 cursor-pointer hover:bg-cyan-500/10 transition-colors" onclick="setupAdmin2FA()" style="display: none;">
              <span class="iconify text-cyan-500" data-icon="lucide:key-round" data-width="20"></span>
              <div>
                <p class="text-xs text-cyan-200/80 font-medium">
                  First Time Setup Required
                </p>
                <p class="text-[10px] text-cyan-200/60">
                  Click here to setup 2FA with Google Authenticator
                </p>
              </div>
            </div>

            <form class="space-y-4" onsubmit="handleAdminLogin(event)">
              <div class="space-y-1.5">
                <label class="text-xs font-medium text-neutral-400 ml-1">
                  Admin ID
                </label>
                <div class="relative group">
                  <span class="absolute left-3 top-1/2 -translate-y-1/2 text-neutral-600 group-focus-within:text-white transition-colors">
                    <span class="iconify" data-icon="lucide:user-cog" data-width="16"></span>
                  </span>
                  <input type="text" class="w-full bg-neutral-900 border border-white/10 rounded-lg pl-10 pr-4 py-2.5 text-sm text-white placeholder:text-neutral-700 focus:outline-none focus:border-white/30 focus:bg-neutral-800 transition-all font-mono" placeholder="ADM-0000" id="admin-id">
                </div>
              </div>
              <div class="space-y-1.5">
                <label class="text-xs font-medium text-neutral-400 ml-1">
                  Secure Key
                </label>
                <div class="relative group">
                  <span class="absolute left-3 top-1/2 -translate-y-1/2 text-neutral-600 group-focus-within:text-white transition-colors">
                    <span class="iconify" data-icon="lucide:key-round" data-width="16"></span>
                  </span>
                  <input type="password" class="w-full bg-neutral-900 border border-white/10 rounded-lg pl-10 pr-4 py-2.5 text-sm text-white placeholder:text-neutral-700 focus:outline-none focus:border-white/30 focus:bg-neutral-800 transition-all font-mono" placeholder="••••••••••••" id="secure-key">
                </div>
              </div>

              <!-- 2FA Input -->
              <div class="space-y-1.5">
                <label class="text-xs font-medium text-neutral-400 ml-1">
                  2FA Code
                </label>
                <div class="flex gap-2">
                  <input type="text" maxlength="1" class="tfa-input w-full h-10 bg-neutral-900 border border-white/10 rounded text-center text-white focus:border-white/30 focus:outline-none transition-all font-mono" placeholder="•">
                  <input type="text" maxlength="1" class="tfa-input w-full h-10 bg-neutral-900 border border-white/10 rounded text-center text-white focus:border-white/30 focus:outline-none transition-all font-mono" placeholder="•">
                  <input type="text" maxlength="1" class="tfa-input w-full h-10 bg-neutral-900 border border-white/10 rounded text-center text-white focus:border-white/30 focus:outline-none transition-all font-mono" placeholder="•">
                  <input type="text" maxlength="1" class="tfa-input w-full h-10 bg-neutral-900 border border-white/10 rounded text-center text-white focus:border-white/30 focus:outline-none transition-all font-mono" placeholder="•">
                  <input type="text" maxlength="1" class="tfa-input w-full h-10 bg-neutral-900 border border-white/10 rounded text-center text-white focus:border-white/30 focus:outline-none transition-all font-mono" placeholder="•">
                  <input type="text" maxlength="1" class="tfa-input w-full h-10 bg-neutral-900 border border-white/10 rounded text-center text-white focus:border-white/30 focus:outline-none transition-all font-mono" placeholder="•">
                </div>
              </div>

              <button class="w-full border border-white/20 hover:bg-white hover:text-black text-white font-medium h-10 rounded-lg text-sm transition-all mt-4 flex items-center justify-center gap-2">
                <span class="iconify" data-icon="lucide:terminal-square" data-width="16"></span>
                Authenticate
              </button>
            </form>
          </div>
        </div>

        <!-- Footer of card -->
        <div class="bg-neutral-900/50 border-t border-white/5 p-4 flex justify-between items-center px-8">
          <a href="#" class="text-[10px] text-neutral-600 hover:text-neutral-400 transition-colors">
            Privacy Policy
          </a>
          <a href="#" class="text-[10px] text-neutral-600 hover:text-neutral-400 transition-colors">
            Terms of Service
          </a>
        </div>
      </div>
    </main>

    <footer class="absolute bottom-4 w-full text-center pointer-events-none">
      <p class="text-[10px] text-neutral-700">
        Protected by reCAPTCHA Enterprise
      </p>
    </footer>

    <script>
      function switchTab(type) {
          const btnUser = document.getElementById('btn-user');
          const btnAdmin = document.getElementById('btn-admin');
          const slider = document.getElementById('slider');
          const tabUser = document.getElementById('tab-user');
          const tabAdmin = document.getElementById('tab-admin');

          if (type === 'user') {
              slider.style.transform = 'translateX(0)';

              btnUser.classList.remove('text-neutral-500');
              btnAdmin.classList.add('text-neutral-500');
              btnAdmin.classList.remove('text-white'); // safety

              tabUser.classList.add('active');
              tabAdmin.classList.remove('active');
          } else {
              slider.style.transform = 'translateX(100%)';

              btnAdmin.classList.remove('text-neutral-500');
              btnAdmin.classList.add('text-white');
              btnUser.classList.add('text-neutral-500');

              tabAdmin.classList.add('active');
              tabUser.classList.remove('active');
          }
      }
    </script>
  
</body></html>